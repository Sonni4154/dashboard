# Marin Pest Control Dashboard - Backend Environment Variables
# Copy this file to .env and fill in your actual values

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
# NeonDB PostgreSQL connection string
DATABASE_URL="postgresql://neondb_owner:npg_rvq3KUmM4SBb@ep-morning-truth-afmm0uvm-pooler.c-2.us-west-2.aws.neon.tech/neondb?sslmode=require"

# Neon Console API (admin access to manage projects/branches)
NEON_API_KEY="napi_yjoyjr0ck3we3lyzp2s11z1x1y9dnrrv8t01a8docont8jf3jl9f3d4zeha94fva"
NEON_API_BASE="https://console.neon.tech/api/v2"

# ===========================================
# JIBBLE INTEGRATION
# ===========================================
JIBBLE_CLIENT_ID=""
JIBBLE_CLIENT_SECRET=""
JIBBLE_API_BASE="https://api.jibble.io/api"
JIBBLE_AUTH_BASE="https://api.jibble.io"
JIBBLE_ORG_ID=""
JIBBLE_REDIRECT_URI="https://wemakemarin.com/api/jibble/oauth/callback"
JIBBLE_WEBHOOK_SECRET=""

# Optional: discrepancy webhooks (Slack/Teams/HTTP endpoint)
DISCREPANCY_WEBHOOK_URL=""

# Jotform (optional)
JOTFORM_API_BASE="https://api.jotform.com"
JOTFORM_API_KEY=""
JOTFORM_FORM_IDS=""

# Employee Directory (optional)
DIRECTORY_API_BASE=""
DIRECTORY_API_TOKEN=""

# Crypto (used to encrypt provider tokens at rest)
ENCRYPTION_KEY_BASE64=""

# Cron toggle
CRON_ENABLED="true"

# ===========================================
# AUTHENTICATION CONFIGURATION
# ===========================================
# JWT secret for custom user authentication
JWT_SECRET="your-super-secret-jwt-key-change-in-production"
JWT_EXPIRES_IN="24h"
SESSION_EXPIRES_IN="7d"

# Registration settings
REGISTRATION_ENABLED="false"

# ===========================================
# STACK AUTH CONFIGURATION (LEGACY)
# ===========================================
# Stack Auth project configuration
STACK_AUTH_URL="https://api.stack-auth.com"
STACK_PROJECT_ID="5fb1ffdb-d2a3-4a10-8824-7cfd62ab0f06"
STACK_SECRET_SERVER_KEY="ssk_ze312w133kthnbmdwfv6w1vbbsjew1ftpm5nwr9vxp1d8"
STACK_AUTH_AUDIENCE="your-audience-here"

# ===========================================
# GOOGLE OAUTH & CALENDAR CONFIGURATION
# ===========================================
# Google OAuth credentials for user authentication
GOOGLE_CLIENT_ID="your_google_client_id_here"
GOOGLE_CLIENT_SECRET="your_google_client_secret_here"
GOOGLE_REDIRECT_URI="https://yourdomain.com/api/auth/google/callback"

# Google AI API key
GOOGLE_AI_API_KEY="your_google_ai_api_key_here"

# Google Calendar IDs (comma-separated)
GOOGLE_CALENDAR_INSECT_CONTROL="57d4687457176ca4e4b211910e7a69c19369d08081871d9f8ab54d234114c991@group.calendar.google.com"
GOOGLE_CALENDAR_RODENT_CONTROL="3fc1d11fe5330c3e1c4693570419393a1d74036ef1b4cb866dd337f8c8cc6c8e@group.calendar.google.com"
GOOGLE_CALENDAR_TERMITES="64a3c24910c43703e539ab1e9ac41df6591995c63c1e4f208f76575a50149610@group.calendar.google.com"
GOOGLE_CALENDAR_TRAP_CHECK="529c43e689235b82258319c30e7449e97c8788cb01cd924e0f4d0b4c34305cdb@group.calendar.google.com"
GOOGLE_CALENDAR_INSPECTIONS="c81f827b8eeec1453d1f3d90c7bca859a1d342953680c4a0448e6b0b96b8bb4a@group.calendar.google.com"
GOOGLE_CALENDAR_TRADEWORK="97180df5c9275973f1c51e234ec36de62c401860313b0b734704f070e5acf411@group.calendar.google.com"
GOOGLE_CALENDAR_INTEGRATIONS="spencermreiser@gmail.com"
GOOGLE_CALENDAR_EMPLOYEE_NOTES="marinpestcontrol@gmail.com"

# ===========================================
# AI INTEGRATIONS
# ===========================================
# OpenAI API for GPT models
OPENAI_API_KEY="your_openai_api_key_here"

# Google AI (Gemini) API
GOOGLE_AI_API_KEY="your_google_ai_api_key_here"

# Mistral AI API
MISTRAL_API_KEY="your_mistral_api_key_here"

# ===========================================
# EXTERNAL INTEGRATIONS
# ===========================================
# HubSpot CRM integration
HUBSPOT_ACCESS_TOKEN="your_hubspot_token_here"

# Jotform API for form submissions
JOTFORM_API_KEY="0b0a61388bf72f9d6fad871687399707"

# Jibble.io time tracking integration
JIBBLE_API_KEY="24b16520-fc0b-47a5-8665-98215e29b867"

# ===========================================
# QUICKBOOKS ONLINE CONFIGURATION
# ===========================================
# QuickBooks OAuth credentials
QBO_CLIENT_ID="your-quickbooks-client-id"
QBO_CLIENT_SECRET="your-quickbooks-client-secret"
QBO_REDIRECT_URI="https://yourdomain.com/api/qbo/callback"
QBO_REALM_ID="your-realm-id"
QBO_ENV="sandbox"
# Options: "sandbox" or "production"

# QuickBooks Webhook Configuration (Optional)
QBO_WEBHOOK_URL="https://yourdomain.com/api/webhook/quickbooks"
QBO_WEBHOOK_VERIFIER_TOKEN="your-webhook-verifier-token"

# ===========================================
# SERVER CONFIGURATION
# ===========================================
# Server port and environment
PORT=5000
NODE_ENV="development"
# Options: "development" or "production"

# CORS Configuration
CORS_ORIGIN="http://localhost:5173"
# In production, set this to your frontend domain (e.g., "https://wemakemarin.com")
# Multiple allowed origins separated by comma
ALLOWED_ORIGINS="http://localhost:5173,http://localhost:3000,http://localhost:5000"

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
# Log level for Winston logger
LOG_LEVEL="debug"
# Options: "error", "warn", "info", "http", "debug"

# ===========================================
# SECURITY CONFIGURATION
# ===========================================
# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Session configuration
SESSION_SECRET="your-super-secret-session-key-here"

# ===========================================
# EXTERNAL SERVICES
# ===========================================
# Email service (if needed for notifications)
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_USER="your-email@gmail.com"
SMTP_PASS="your-app-password"

# ===========================================
# INTEGRATION CONFIGURATION
# ===========================================
# Jibble.io time tracking integration
JIBBLE_CLIENT_ID=
JIBBLE_CLIENT_SECRET=
JIBBLE_API_BASE=https://api.jibble.io/api
JIBBLE_AUTH_BASE=https://api.jibble.io
JIBBLE_ORG_ID=
JIBBLE_REDIRECT_URI=https://YOUR_DOMAIN/api/jibble/oauth/callback
JIBBLE_WEBHOOK_SECRET=

# Jotform integration (optional)
JOTFORM_API_BASE=https://api.jotform.com
JOTFORM_API_KEY=
JOTFORM_FORM_IDS=

# Employee Directory integration (optional)
DIRECTORY_API_BASE=
DIRECTORY_API_TOKEN=

# Token encryption
ENCRYPTION_KEY_BASE64=

# Discrepancy webhooks (optional)
DISCREPANCY_WEBHOOK_URL=

# Cron settings
CRON_ENABLED=true

# ===========================================
# DEVELOPMENT ONLY
# ===========================================
# Skip authentication in development
SKIP_AUTH=false
# Set to "true" to bypass JWT verification in development

# Mock QuickBooks data
MOCK_QBO_DATA=false
# Set to "true" to use mock data instead of real QuickBooks API
