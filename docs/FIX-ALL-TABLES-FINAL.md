# ðŸš€ Final Fix for All Tables

**Run this on your server:**

```bash
cd /opt/dashboard/backend

cat > fix-all-tables-id.mjs << 'EOF'
import 'dotenv/config';
import { neon } from '@neondatabase/serverless';

const sql = neon(process.env.DATABASE_URL);

async function fixAllTables() {
  const tables = ['customers', 'invoices', 'estimates'];
  
  for (const table of tables) {
    try {
      console.log(`ðŸ”§ Fixing quickbooks.${table}.id...`);
      
      // Use raw SQL since we can't use variables in table names
      const query = `ALTER TABLE quickbooks.${table} ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY;`;
      await sql.unsafe(query);
      
      console.log(`âœ… Fixed ${table}!`);
    } catch (error) {
      console.log(`âš ï¸  ${table}: ${error.message}`);
    }
  }
}

fixAllTables();
EOF

node fix-all-tables-id.mjs
pm2 restart all
sleep 5
curl -X POST http://localhost:5000/api/sync
```

---

**This will fix customers, invoices, and estimates tables too!** ðŸŽ‰

